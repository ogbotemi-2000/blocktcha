<!DOCTYPE html>
<html>
    <head>
        <title>Widget via Iframe</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="css/tailwind.min.css">
        <link rel="stylesheet" href="css/all.min.css">
        <link rel="stylesheet" href="css/page.css">
        <script src="js/ripples.js"></script>
        <style>
            
        </style>
    </head>
    <body>
        <form target="xhr" onsubmit="event.preventDefault();">
            <label class="relative inline-block">
                <i class="absolute text-5xl pointer-events-none right-0 text-gray-200 0 fa fa-key"></i>
                <p class='text-sm inline-block font-semibold'>Public key: G .... till the 56th character</p>
                <input class="text-sm bg-transparent relative w-full p-2 placeholder-gray-600 outline-none border-b-2 border-black" placeholder="If already copied, we'll try to paste it when you type" maxlength="56">
            </label>
            <button class="mt-3 relative rounded-full p-0">
                <div class="absolute h-full w-full rounded-inherit bg-gray-700 m-1"></div>
                <div class="ripple relative p-2 px-3 rounded-inherit border-2 border-gray-700 bg-white">submit</div>
            </button>
        </form>

        <iframe id="xhr" height="30" class="mt-1 h-2 rounded-full border border-gray-700 w-full" onload="let txt=['textContent', 'innerHTML'].map(p=>this.contentWindow.document.body[p]); if((txt=txt.filter(e=>e)).length) receive(txt)/*has content*/"></iframe>
        <script>
          window.addEventListener('DOMContentLoaded', _=>{
            animations.addRippleAnimations()
          })
          function receive(txts) {
            /*function to receive data passed to iframe via form in backwards-compatible AJAX fashion*/
            console.log(txts)
          }
        </script>
    </body>
</html>